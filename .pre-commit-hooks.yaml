- id: org-detect-aws-credentials
  name: detect-aws-credentials (org)
  language: script
  entry: hooks/org_detect_aws_credentials.sh
  pass_filenames: true
  description: Detects accidentally committed AWS credentials; org-wide excludes inside script.

- id: org-detect-private-key
  name: detect-private-key (org)
  language: script
  entry: hooks/org_detect_private_key.sh
  pass_filenames: true
  description: Blocks private keys (PEM/PKCS*) from being committed.

- id: org-check-merge-conflict
  name: check-merge-conflict (org)
  language: script
  entry: hooks/org_check_merge_conflict.sh
  pass_filenames: true
  description: Fails on unresolved conflict markers.

- id: org-end-of-file-fixer
  name: end-of-file-fixer (org)
  language: script
  entry: hooks/org_end_of_file_fixer.sh
  pass_filenames: true
  description: Ensures files end with a single newline.

- id: org-trailing-whitespace
  name: trailing-whitespace (org)
  language: script
  entry: hooks/org_trailing_whitespace.sh
  pass_filenames: true
  description: Trims trailing spaces.

- id: org-mixed-line-ending
  name: mixed-line-ending (org)
  language: script
  entry: hooks/org_mixed_line_ending.sh
  args: ["--fix=lf"]
  pass_filenames: true
  description: Normalizes line endings to LF.

- id: org-check-added-large-files
  name: check-added-large-files (org)
  language: script
  entry: hooks/org_check_added_large_files.sh
  args: ["--maxkb=1024"]
  pass_filenames: true
  description: Blocks large binaries creeping into Git.

- id: org-detect-secrets
  name: detect-secrets (org)
  language: script
  entry: hooks/org_detect_secrets.sh
  pass_filenames: true
  description: Runs detect-secrets with org-wide exclusions & baseline support.

- id: org-commitlint
  name: commitlint (org)
  language: script
  entry: hooks/org_commitlint.sh
  description: Validates commit messages (Jira + minimal live-service template).

- id: org-prettier
  name: prettier (org)
  language: script
  entry: hooks/org_prettier.sh
  files: '(\.json$|\.ya?ml$|\.md$|\.css$|\.html$|\.xml$)'
  exclude: '(\.xhtml$|(^|.*/)(test|tests|__tests__|src/test)/)'
  description: Formats common text files; avoids JSF .xhtml.

# --- Java format (self-bootstrapping JAR, no repo deps) ---
- id: org-google-java-format
  name: google-java-format (org)
  language: script
  files: \.java$
  entry: hooks/org_google_java_format.sh
  description: Auto-formats Java sources using google-java-format.

# --- Checkstyle (self-bootstrapping JAR & config) ---
- id: org-checkstyle
  name: checkstyle (org)
  language: script
  files: \.java$
  entry: hooks/org_checkstyle.sh
  pass_filenames: true
  description: Checkstyle with org profiles (legacy/base); fails only per policy.

# --- Gradle smart checks (changed projects only) ---
- id: org-gradle-compile-changed
  name: gradle compile (changed projects)
  language: script
  pass_filenames: false
  entry: hooks/org_gradle_compile_changed.sh
  description: Compiles only changed Gradle subprojects before push.

- id: org-gradle-static-changed
  name: gradle static analysis (changed projects)
  language: script
  pass_filenames: false
  entry: hooks/org_gradle_static_changed.sh
  description: Runs checkstyle/spotbugs/pmd on changed subprojects only.

- id: org-pii
  name: semgrep (org PII)
  language: script
  entry: hooks/org_semgrep_pii.sh
  pass_filenames: true
  description: Scans for PII using org-curated Semgrep rules (central excludes).

- id: enforce-commit-template
  name: Enforce commit template
  language: script
  entry: hooks/prepare_commit_msg.sh
  description: Auto-injects minimal live-service commit template.

- id: org-test-coverage
  name: test coverage threshold (org)
  language: script
  entry: hooks/org_test_coverage.sh
  pass_filenames: false
  args: ["--min=80", "--engine=auto", "--allow-missing"]
  description: Runs unit tests and enforces minimum coverage (Gradle/Maven/Jest).
